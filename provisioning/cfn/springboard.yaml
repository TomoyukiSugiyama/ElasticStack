AWSTemplateFormatVersion: "2010-09-09"
Description: OpenSearchServiceDomain resource
# ------------------------------------------------------------------------------
# Parameters
# ------------------------------------------------------------------------------
Parameters:
  KeyName:
    Description: The EC2 Key Pair to allow SSH access to the instance
    Type: AWS::EC2::KeyPair::KeyName
    Default: elastic-stack

# ------------------------------------------------------------------------------
# Resources
# ------------------------------------------------------------------------------
Resources:
  # EC2
  EC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: ami-085e9421f80dbe728
      KeyName: !Ref KeyName
      InstanceType: t2.micro
      NetworkInterfaces:
        - AssociatePublicIpAddress: true
          DeviceIndex: 0
          SubnetId: !Ref PublicSubnet1
          GroupSet:
            - !Ref SecurityGroup
      Tags:
        - Key: Name
          Value: !Join [" ", [!Ref AWS::StackName, EC2]]
# ------------------------------------------------------------------------------
# Outputs
# ------------------------------------------------------------------------------
#Outputs:
